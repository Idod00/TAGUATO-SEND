# ============================================
# TAGUATO-SEND - Environment Configuration
# ============================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env

# --- Server ---
SERVER_URL=http://localhost:8080
GATEWAY_PORT=80

# --- Admin User (used on first DB init only) ---
ADMIN_USERNAME=admin
ADMIN_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD_FOR_ADMIN

# --- Authentication ---
# Generate a secure key: openssl rand -hex 32
AUTHENTICATION_API_KEY=CHANGE_ME_GENERATE_A_SECURE_KEY
AUTHENTICATION_EXPOSE_IN_FETCH_INSTANCES=true

# --- Database (PostgreSQL) ---
# PostgreSQL is internal-only (not exposed to host). No POSTGRES_PORT needed.
POSTGRES_USER=taguato
POSTGRES_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD
POSTGRES_DB=evolution
DATABASE_ENABLED=true
DATABASE_PROVIDER=postgresql
DATABASE_CONNECTION_URI=postgresql://taguato:CHANGE_ME_USE_STRONG_PASSWORD@taguato-postgres:5432/evolution?schema=public
DATABASE_CONNECTION_CLIENT_NAME=taguato_send

# --- Cache (Redis) ---
# Redis is internal-only (not exposed to host). No REDIS_PORT needed.
CACHE_REDIS_ENABLED=true
CACHE_REDIS_URI=redis://taguato-redis:6379/0
CACHE_REDIS_PREFIX_KEY=taguato
CACHE_REDIS_SAVE_INSTANCES=false
CACHE_LOCAL_ENABLED=false

# --- WhatsApp Baileys ---
CONFIG_SESSION_PHONE_CLIENT=TAGUATO-SEND
CONFIG_SESSION_PHONE_NAME=Chrome

# --- Backups ---
# Auto-backup interval in seconds (default: 86400 = 24 hours)
BACKUP_INTERVAL=86400

# --- Logging ---
LOG_LEVEL=WARN
LOG_COLOR=true

# --- CORS ---
# Comma-separated list of allowed origins. Use * for development only.
# Example: https://app.example.com,https://admin.example.com
ALLOWED_ORIGINS=*
CORS_ORIGIN=*
CORS_METHODS=GET,POST,PUT,DELETE
CORS_CREDENTIALS=true

# --- Rate Limiting ---
# "open" = allow requests when Redis is down (default)
# "closed" = reject requests when Redis is down (more secure)
RATE_LIMIT_FAIL_MODE=open

# --- Webhook Global (optional) ---
# WEBHOOK_GLOBAL_URL=https://your-server.com/webhook
# WEBHOOK_GLOBAL_ENABLED=false
# WEBHOOK_GLOBAL_WEBHOOK_BY_EVENTS=false
